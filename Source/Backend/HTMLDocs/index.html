<html>
	<head>
		<title>
			A CSM-Miner dummy 
		</title>
		<style>
			body{}
			#projectDrawer{
				position: fixed; 
				top: 0; 
				left: 0; 
				min-width: 100%;
				min-height: 100%;
				background-color : white;
				z-index: 999;
				width : 100%;
				height : 100%;
			}
			#app{
				position : relative;
				border-radius: 25px;
				border: 2px solid #73AD21; 
				width: 150px;
				height: 150px; 
				text-align : center;
				margin : 10px;
				background-size: cover;
			}
			#app .centered{
				margin-block-start : 20px;
				text-align : center;
				font-size : 70pt;
			}
			#app .bottom{
				position: absolute;
				top : 110px;
				left: 45px;
				z-index : 2;
			}
			#app:hover{
				cursor :pointer;
			}
			form{
				min-width: fit-content;
				background: white;
				min-height: fit-content;
				height: 10em;
				margin: 100px;
				padding: 20px;
				position: relative;
				text-align : center;
				-webkit-box-shadow: 0px 0px 50px -1px rgba(0,0,0,0.79);
				-moz-box-shadow: 0px 0px 50px -1px rgba(0,0,0,0.79);
				box-shadow: 0px 0px 50px -1px rgba(0,0,0,0.79);
			}
			.SUBMIT{
				left : 50%;
				bottom: 10px;
				position: absolute;
			}
			.hideMe{
				visibility : hidden;
			}
			#loading{
				position: fixed;
				left: 50%;
				top: 50%;
			}
			#mainContainer{
				position : fixed;
				left : 0%;
				top : 0%;
				height : 100%;
				width : 100%;
			}
			#rightMain{
				height: 100%;
				top: 0;
				width:fit-content;
				left: 210px;
				position: absolute;
				display: inline-block;
				vertical-align: top;
				transition-delay: 0.5s;
				transition-property: position;
				transition-duration: 1s;
			}
			#rightLeft{
				height : 100%;
				float:left;
				width: calc(100vw - 420px);
			}
			.rightInc{
				width: calc(100vw - 210px) !important;
			}
			.rightMax{
				width: 100vw !important;
			}
			#rightRight{
				float:right;
				width : fit-content;
				height : 100%;
			}
			#left{
				display:inline-block;
				vertical-align:top;
				height : 100%;
				position: absolute;
				left: 0px;
				width: fit-content;
				transition-delay: 0.5s;
				transition-property: position;
				transition-duration: 1s;
			}
			.hideLeft{
				left : -210px !important;
			}
			.addingL{
				left : 0 !important;
			}
			.hideBtn{
				width : 150px;
				opacity : 0;
				transition-delay: 0.5s;
				transition-property: opacity;
				transition-duration: 1s;
			}
			.hideBtn:first-child{
				position:absolute; 
				top:5px; 
				left:-210px;
			}
			.hideBtn:last-child{
				position:absolute; 
				top:5px; 
				right:0;
			}
			.hideBtnEX{
				right:210px !important;
			}
			.hideBtnEXL{
				left : 0 !important;
			}
			.hideBtn:hover{
				opacity : 100;
			}
			.hideBtn:leave{
				opacity : 0;
			}
			.element{
				margin-left : 5px;
				margin-right : 5px;
				margin-bottom : 15px;
				width: 200px;
				height: 200px;
				background-color : green;
			}
			.scrollable{
				seamless: "seamless";
				overflow: auto;
				-ms-overflow-style: none;  // IE 10+
				scrollbar-width: none;  // Firefox
				min-width: fit-content;
				max-width: fit-content;
				background: grey;
				height: 100%;}
			.scrollable::-webkit-scrollbar{
				display: none;
			}
			.bgEdit{
				background-image : url("./Images/matrix.png");
			}
			#content{
				width: 100%;
				height : 100%;
				text-align : center;
			}
			canvas{
				width: 100%;
				height: 100%;
			}
			#add-project{
				position : fixed;
				z-index : 999;
				left: 50% !important;
				top: 50% !important;
				transform: translate(-50%, -50%) !important;
			}
		</style>
		<script>
			
			function upload(){
				var uForm = document.querySelector("#prep");
				var lding = document.querySelector("#loading");
				uForm.classList.add("hideMe");
				lding.classList.remove("hideMe");
				/*const files = document.querySelector('type=[file]').files;
				const formData = new FormData();
				for(let i = 0; i < files.length; i++){
					let file = files[i];
					formData.append('files[]' file);
				}
				fetch(url, {
					method: 'POST',
					body:	formData,
				}).then(response => {
					console.log("File uploaded.");
					lding.classList.add("hideMe");
					produce();
				});
				*/
				alert("Since this is a dummy this would be where the backend does its job.");
				produce();
				return true;
			}
			function update(){
				var lding = document.querySelector("#main");
				lding.classList.remove("hideMe");
				
				var b = document.querySelector("#update");
				b.classList.remove("hideMe");
				
				var c = document.querySelector("#prep");
				c.classList.add("hideMe");
				
				var d = document.querySelector("#updateButton");
				d.classList.add("hideMe");
				return true;
			}
			function start(){
				var uForm = document.querySelector("#prep");
				var _main = document.querySelector("#main");
				var lding = document.querySelector("#update");
				_main.classList.add("hideMe");
				uForm.classList.remove("hideMe");
				lding.classList.add("hideMe");
			}
			function edit(){
				var _main = document.querySelector("#main");
				var lding = document.querySelector("#update");
				_main.classList.add("hideMe");
				lding.classList.remove("hideMe");
				alert("There is no edit right now.");
				produce();
				return true;
			}
			function dummyTest(){
				var choice = document.getElementById("labels");
				var option = document.createElement("option");
				var text = document.getElementById("lblName");
				option.text = text.value;
				choice.add(option);
			}
			function produce(){
				var bdy = document.body;
				bdy.classList.add("bgEdit");
				var _main = document.querySelector("#main");
				var lding = document.querySelector("#loading");
				_main.classList.remove("hideMe");
				lding.classList.add("hideMe");
				var b = document.querySelector("#update");
				b.classList.add("hideMe");
				var b = document.querySelector("#updateButton");
				b.classList.remove("hideMe");
			}
			function changed(e){
				var obj = e.value;
				document.getElementById("lblName").value = obj;
			}
			function editCh(){
				var text = document.getElementById("lblName").value;
				var obj = document.getElementById("labels");
				obj.options[obj.selectedIndex].text = text;
				alert("Set labelname!");
				return true;
			}
			
			var left = true;
			var right = true;
			var sizeMain = 2;
			
			function hideLeft(){
				var object = document.getElementById("left");
				var objectTwo = document.getElementById("rightMain");
				var objTmp = document.getElementById("rightLeft");
				var btn = document.getElementById("hideMainMenu");
				var btn2 = document.getElementById("hideViewsMenu");
				if(left){
					object.classList.add("hideLeft");
					btn2.classList.remove("hideBtnEX");
					objectTwo.classList.add("addingL");
					sizeMain -- ;
					left = false;
				}else{
					sizeMain ++ ;
					object.classList.remove("hideLeft");
					objectTwo.classList.remove("addingL");
					left = true;
				}
				if(sizeMain == 2){
					objTmp.classList.remove("rightInc");
					objTmp.classList.remove("rightMax");
					btn.classList.remove("hideBtnEXL");
					btn2.classList.remove("hideBtnEX");
				}else if(sizeMain == 1){
					objTmp.classList.add("rightInc");
					objTmp.classList.remove("rightMax");
					btn.classList.add("hideBtnEXL");
					if(left){
						btn2.classList.add("hideBtnEX");
						btn.classList.remove("hideBtnEXL");
					}
					
				}else{
					objTmp.classList.add("rightMax");
					objTmp.classList.remove("rightInc");
					btn.classList.add("hideBtnEXL");
					btn2.classList.remove("hideBtnEX");
				}
				return;
			}
			
			function hideRight(){
				var object = document.getElementById("rightMain");
				var objTmp = document.getElementById("rightLeft");
				var btn = document.getElementById("hideViewsMenu");
				var btn2 = document.getElementById("hideMainMenu");
				if(right){
					sizeMain -- ;
					right = false;
				}else{
					sizeMain ++ ;
					right = true;
				}
				if(sizeMain == 2){
					btn2.classList.remove("hideBtnEXL");
					objTmp.classList.remove("rightInc");
					objTmp.classList.remove("rightMax");
					btn.classList.remove("hideBtnEX");
				}else if(sizeMain == 1){
					objTmp.classList.add("rightInc");
					btn.classList.add("hideBtnEX");
					if(right){
						btn2.classList.add("hideBtnEXL");
						btn.classList.remove("hideBtnEX");
					}
					objTmp.classList.remove("rightMax");
				}else{
					btn2.classList.add("hideBtnEXL");
					btn.classList.remove("hideBtnEX");
					objTmp.classList.add("rightMax");
					objTmp.classList.remove("rightInc");
				}
				return;
			}
			
			var mDown = false;
			
			function click(e){
				e = e || window.event;

				var pageX = e.pageX;
				var pageY = e.pageY;

				// IE 8
				if (pageX === undefined) {
					pageX = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
					pageY = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
				}
				if((pageX == pageY) != 0)return;
				var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
				if(left && (pageX <= 210)) return;
				if(right && (pageX > (w-210))) return;
				console.log(pageX, pageY);
			}
			
			function draw(img){
				var ctx = document.getElementById("view").getContext("2d");
				ctx.drawImage(img);
			}
			
			
			
			
			if (document.attachEvent) document.attachEvent('onclick', click);
			else document.addEventListener('click', click);
			document.onmousedown = function(e){
				mDown = true;
			};
			document.onmouseup = function(e){
				mDown = false;
			};
			
			var lastX = 0;
			var lastY = 0;
			
			document.onmousemove = function(e){
				if(mDown){
					e = e || window.event;

					var pageX = e.pageX;
					var pageY = e.pageY;

					// IE 8
					if (pageX === undefined) {
						pageX = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;
						pageY = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
					}
					if((pageX == pageY) != 0)return;
					var w = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
					if(left && (pageX <= 210)) return;
					if(right && (pageX > (w-210))) return;
					console.log(pageX, pageY);
					buildIMG(pageX,pageY);
				}
			};
			
			var IMG = null;
			var cutIMG = null;
			
			function buildIMG(X,Y){
				
			}
			
			function resize(){
				var cvs = document.getElementById("view");
				var container = document.getElementById("content");
				cvs.width = container.clientWidth;
				cvs.height = container.clientHeight;
				if(IMG != null)draw(IMG);
			}
			
			var timer = setInterval(resize, 100);
			
			function load (e){
				alert("Dummy");
				document.getElementById('projectDrawer').classList.add('hideMe');
			}
			
			function add(){
				var rm = document.getElementById('add-project');
				rm.classList.remove('hideMe');
			}
			/*
			function updateProgress(oEvent){
				if(oEvent.lengthComputable){
					var percentComplete = oEvent.loaded / oEvent.total * 100;
					
				}else{
					var ld = document.getElementById('loading');
					ld.classList.remove('hideMe');
				}
			}
			function transferFailed(evt){}
			function transferComplete(evt){}
			function transferCanceled(evt){}
			function transferEnd(evt){
				var ld = document.getElementById('loading');
				ld.classList.add('hideMe');
			}
			
			
			var oReq = new XMLHttpRequest();
			oReq.addEventlistner("load", transferComplete);
			oReq.addEventListener("progress", updateProgress);
			oReq.addEventListener("error", transferFailed);
			oReq.addEventListener("abort", transferCanceled);
			oReq.addEventListener("loadend", transferEnd);
			
			function load(uri){
				oReq.open("GET", uri); 
				
			}*/
		</script>
	</head>
	<body>
		<div id="projectDrawer" > 
			<div id="add-project" class="hideMe">
				<iframe src="/uploadForm.html">Your Browser does not support the iframe tag.</iframe>
			</div>
			<h3 style="text-align:center;">Projects</h3>
			<div class="projectContainer">
				<!--
				TO-DO : #IMPLEMENT DISPLAY VIA LOADING RESOURCES
				-->
				<div onclick="return load(this);" class="project1" id="app" style="background-image: url('https://cdn.pixabay.com/photo/2015/11/15/07/47/geometry-1044090_960_720.jpg');">
				<p class="bottom">Project 1</p>
				<!--
					!! Sample !!
					Actual backend loading is required.
				-->
				</div>
				<div onclick="return add();"  id="app">
				<p class="centered">+</p>
				<p class="bottom">Add new</p>
				</div>
			</div>
		</div>
		<div id="loading" class="hideMe">
			<center> Loading... </center>
		</div>
		<div id="mainContainer">
			<div id="left" class="scrollable">
				<div id="Project1" class="element">
					Projekt 1
				</div>
				<div id="Project2" class="element">
					Projekt 2
				</div>
				<div id="Project3" class="element">
					Projekt3
				</div>
			</div>
			<div id="rightMain">
				<div id="rightLeft">
					<input type="button" id="hideMainMenu" class="hideBtn" text="Hide" value="Hide" onclick="return hideLeft();">
					<div id="content">
						<canvas id="view" width="4000" height="4000">
							<center><p><h3>Sorry. Something went wrong :/</h3></p></center>
						</canvas>
					</div>
					<input type="button" id="hideViewsMenu" class="hideBtn" text="Hide" value="Hide" onclick="return hideRight();">
				</div>
				<div id="rightRight" class="scrollable">
					<div id="View1" class="element">
						View 1
					</div>
					<div id="View2" class="element">
						View 2
					</div>
				</div>
			</div>
		</div>
	</body>
</html>